<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>斗地主 - 经典三人纸牌游戏</title>
    <link rel="icon" href="/static/images/logo.svg" type="image/svg+xml">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="/frontend/style.css?v=3.0.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <!-- 顶部信息栏 -->
        <div class="top-bar">
            <div class="logo">
                <i class="fas fa-crown"></i>
                <span>斗地主</span>
            </div>
            <div class="room-info">
                <span id="room-id-display"><i class="fas fa-door-closed"></i> 房间: ---</span>
                <span id="players-online"><i class="fas fa-users"></i> 1/3</span>
            </div>
            <button class="back-btn" id="quit-btn">
                <i class="fas fa-sign-out-alt"></i> 退出
            </button>
        </div>

        <!-- 左侧对手 -->
        <div class="player-position player-left" id="player-left">
            <div class="player-avatar-box" id="left-avatar-box">
                <div class="avatar"><i class="fas fa-robot"></i></div>
                <div class="player-info-text">
                    <span class="player-name" id="left-player-name">电脑玩家1</span>
                    <span class="player-cards-count">
                        <span class="count" id="left-player-cards">17</span> 张
                    </span>
                </div>
            </div>
            <div class="opponent-cards" id="left-opponent-cards">
                <!-- 对手手牌背面 -->
            </div>
        </div>

        <!-- 右侧对手 -->
        <div class="player-position player-right" id="player-right">
            <div class="player-avatar-box" id="right-avatar-box">
                <div class="avatar"><i class="fas fa-robot"></i></div>
                <div class="player-info-text">
                    <span class="player-name" id="right-player-name">电脑玩家2</span>
                    <span class="player-cards-count">
                        <span class="count" id="right-player-cards">17</span> 张
                    </span>
                </div>
            </div>
            <div class="opponent-cards" id="right-opponent-cards">
                <!-- 对手手牌背面 -->
            </div>
        </div>

        <!-- 倍率显示 -->
        <div class="multiplier-display" id="multiplier-display">
            <i class="fas fa-bolt"></i>
            <span id="multiplier-value">1</span>
            <span class="times">倍</span>
        </div>

        <!-- 中央出牌区域 -->
        <div class="play-area">
            <div class="landlord-cards-area" id="landlord-cards-area">
                <span class="landlord-label">底牌</span>
                <!-- 地主底牌 -->
            </div>
            <div class="current-play-cards" id="current-play-cards">
                <!-- 当前出的牌 -->
            </div>
            <span class="play-label" id="play-label">等待出牌</span>
            <span class="last-player-info" id="last-player-info"></span>
        </div>

        <!-- 底部自己 -->
        <div class="player-position player-bottom" id="player-bottom">
            <div class="player-avatar-box" id="bottom-avatar-box">
                <div class="avatar"><i class="fas fa-user"></i></div>
                <div class="player-info-text">
                    <span class="player-name" id="bottom-player-name">我</span>
                    <span class="player-cards-count">
                        <span class="count" id="bottom-player-cards">17</span> 张
                    </span>
                </div>
            </div>

            <!-- 自己的手牌 -->
            <div class="my-hand-area">
                <div class="card-type-label" id="card-type-label"></div>
                <div class="my-cards-container" id="my-cards-container">
                    <!-- 自己的牌 -->
                </div>

                <!-- 操作按钮区域 -->
                <div class="action-area">
                    <!-- 叫地主按钮 -->
                    <div class="bid-buttons" id="bid-buttons">
                        <button class="bid-btn call" id="call-landlord-btn">
                            <i class="fas fa-crown"></i> 叫地主
                        </button>
                        <button class="bid-btn bid-2x" id="bid-2x-btn">
                            <i class="fas fa-hand-paper"></i> 抢地主
                        </button>
                        <button class="bid-btn pass" id="pass-bid-btn">
                            <i class="fas fa-times"></i> 不叫
                        </button>
                    </div>

                    <!-- 出牌按钮 -->
                    <div class="play-buttons" id="play-buttons">
                        <button class="play-btn confirm" id="play-cards-btn">
                            <i class="fas fa-play"></i> 出牌
                        </button>
                        <button class="play-btn pass" id="pass-turn-btn">
                            <i class="fas fa-forward"></i> 过
                        </button>
                        <button class="play-btn hint" id="hint-btn">
                            <i class="fas fa-lightbulb"></i> 提示
                        </button>
                        <button class="play-btn sort" id="sort-hand-btn">
                            <i class="fas fa-sort"></i> 整理
                        </button>
                    </div>

                    <!-- 等待提示 -->
                    <div class="waiting-indicator" id="waiting-indicator">
                        <i class="fas fa-hourglass-half"></i>
                        <span id="waiting-text">等待其他玩家...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 聊天面板 -->
    <div class="chat-panel" id="chat-panel">
        <div class="chat-header">
            <h3><i class="fas fa-comments"></i> 聊天</h3>
            <button class="btn btn-small" id="chat-toggle">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="chat-message">
                <span class="sender">系统:</span>
                <span class="content">欢迎来到斗地主！</span>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chat-input" placeholder="发送消息...">
            <button id="chat-send-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- 登录面板 -->
    <div class="panel" id="login-panel">
        <div class="panel-content">
            <h1><i class="fas fa-crown"></i> 斗地主</h1>
            <p class="subtitle">经典三人斗地主游戏</p>
            
            <div class="form-group">
                <label>玩家昵称</label>
                <input type="text" id="player-name" placeholder="请输入昵称" value="玩家">
            </div>
            
            <button class="btn btn-primary" id="connect-btn">
                <i class="fas fa-play"></i> 开始游戏
            </button>
        </div>
    </div>

    <!-- 游戏结果弹窗 -->
    <div class="game-result-modal" id="game-result-modal">
        <div class="result-content" id="result-content">
            <h2 id="result-title">胜利!</h2>
            <div class="result-details" id="result-details">
                恭喜你获得胜利！
            </div>
            <button class="btn btn-primary" id="play-again-btn">
                <i class="fas fa-redo"></i> 再来一局
            </button>
        </div>
    </div>

    <!-- 设置模态框 -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> 游戏设置</h3>
                <button class="close-btn" id="close-settings">&times;</button>
            </div>
            <div class="modal-body" id="settings-body">
                <div class="form-group">
                    <label>游戏难度</label>
                    <select id="ai-difficulty">
                        <option value="easy">简单</option>
                        <option value="medium" selected>中等</option>
                        <option value="hard">困难</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>游戏速度</label>
                    <select id="game-speed">
                        <option value="slow">慢速</option>
                        <option value="normal" selected>正常</option>
                        <option value="fast">快速</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <script src="/frontend/game.js?v=2.0.0"></script>
</body>
</html>